<!DOCTYPE html>
<html>
<head>
    <title>Jetset29 – Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { 
            margin: 0; 
            padding: 0; 
            font-family: Arial, sans-serif;
        }
        #webview {
            width: 100%;
            height: 100vh;
            border: none;
        }
        .navbar {
            padding: 10px;
            background: #0088cc;
            color: white;
            display: flex;
            justify-content: space-between;
        }
        .navbar button {
            background: transparent;
            border: none;
            color: white;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <button onclick="showPage('https://jetset29.ru')">Магазин</button>
        <button onclick="showPage('https://jetset29.ru/cart')">Корзина</button>
    </div>
    
    <!-- Здесь будет отображаться сайт -->
    <iframe id="webview" src="https://jetset29.ru"></iframe>

    <script>
        const tg = Telegram.WebApp;
        tg.expand(); // Растягиваем на весь экран
        
        // Показываем страницу в iframe
      // Замените showPage() на это:
function showPage(url) {
    const iframe = document.getElementById('webview');
    iframe.src = `https://cors-anywhere.herokuapp.com/${url}`;
    // Или другой прокси: https://api.allorigins.win/raw?url=${encodeURIComponent(url)}
}
        
        // Пытаемся обойти блокировку iframe
        document.getElementById('webview').onload = function() {
            try {
                // Если сайт блокирует загрузку, используем прокси
                if (this.contentWindow.length === 0) {
                    this.src = `https://api.allorigins.win/raw?url=${encodeURIComponent(this.src)}`;
                }
            } catch (e) {
                console.error("Ошибка загрузки:", e);
                tg.showAlert("Не удалось загрузить страницу. Попробуйте позже.");
            }
        };
    </script>
</body>
</html>
