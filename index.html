<!DOCTYPE html>
<html>
<head>
    <title>Jetset29</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        iframe {
            width: 100%;
            height: 100vh;
            border: none;
        }
    </style>
</head>
<body>
    <iframe id="webview" src="about:blank"></iframe>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // 1. Пробуем открыть сайт напрямую
        const iframe = document.getElementById('webview');
        iframe.src = "https://jetset29.ru";
        
        // 2. Если не грузится - пробуем через прокси
        iframe.onerror = () => {
            iframe.src = `https://corsproxy.io/?${encodeURIComponent("https://jetset29.ru")}`;
        };
        
        // 3. Если прокси тоже блокируется - показываем ошибку
        setTimeout(() => {
            if (!iframe.contentWindow || iframe.contentWindow.document.body.innerHTML === "") {
                tg.showAlert("Не удалось загрузить сайт. Попробуйте позже.");
                iframe.style.display = "none";
            }
        }, 3000);
    </script>
</body>
</html>
